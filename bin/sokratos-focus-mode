#!/usr/bin/env bash
# Toggle focus mode for Hyprland
# Disables/enables animations, gaps, rounded corners, shadows, and blur
# Kills/starts waybar to reduce distractions

STATE_FILE="/tmp/hyprland_focus_mode"

if [ -f "$STATE_FILE" ]; then
    # Focus mode is ON, turn it OFF (restore normal settings)
    hyprctl reload
    rm "$STATE_FILE"
		refresh-app-daemons
    notify-send "Focus mode disabled"
else
    # Focus mode is OFF, turn it ON
    hyprctl --batch "\
        keyword general:gaps_in 0;\
        keyword general:gaps_out 0;\
        keyword decoration:rounding 0;\
        keyword decoration:shadow:enabled 0;\
        keyword decoration:blur:enabled 0"
    pkill -9 waybar
    touch "$STATE_FILE"
    notify-send "Focus mode enabled"
fi
